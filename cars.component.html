<div class="container" style="margin-top: 100px">
    <form class="form-inline waves-light text-right" mdbWavesEffect>
        <div class="md-form mt-0">
            <input class="form-control mr-sm-2" type="text" placeholder="Search">
        </div>
    </form>
    <div *ngFor="let car of webService.car_list | async" class="col-12">
        <div class="card-stack text-white bg-secondary mb-3 col-sm-12" [routerLink]="['/cars', car._id]"
            style="cursor: pointer">
            <div class="card-header">
                {{ car.make }} {{ car.model }}
            </div>
            <div class="card-body">
                <div class="row">
                    <ul class="list-group col-sm-6">
                        <img src="{{ car.image_file }}" class="col-sm-12 mx-auto d-block">
                    </ul>
                    <ul class="list-group col-sm-6">
                        <h1 class="mx-auto d-block">Specifications</h1>
                        <li class="list-group-item list-group-item-secondary font-weight-bold">Year: {{ car.year }}</li>
                        <li class="list-group-item list-group-item-secondary font-weight-bold">Engine Type:
                            {{ car.engine }}</li>
                        <li class="list-group-item list-group-item-secondary font-weight-bold">Fuel Type: {{ car.fuel }}
                        </li>
                        <li class="list-group-item list-group-item-secondary font-weight-bold">Doors: {{ car.doors }}
                        </li>
                        <li class="list-group-item list-group-item-secondary font-weight-bold">Car Type: {{ car.type }}
                        </li>
                        <li class="list-group-item list-group-item-secondary font-weight-bold">Miles per Gallon:
                            {{ car.mpg }}</li>
                    </ul>
                </div>
            </div>
            <div class="card-footer">
                {{ car.reviews.length }} ratings available.
            </div>
        </div>
    </div>


    <div class="row">
        <div class="col-sm-6">
            <button class="btn btn-secondary" (click)="previousPage()">
                Previous
            </button>
        </div>
        <div class="col-sm-6 text-right">
            <button class="btn btn-secondary" (click)="nextPage()">
                Next
            </button>
        </div>
    </div>
    <br>
</div>

<div class="container" *ngIf="authService.loggedIn">
    <div class="row">
        <div class="col-sm-12">
            <h2>
                Add a new car for review!
            </h2>
            <form [formGroup]='carForm' (ngSubmit)='onSubmit()'>
                <div class="form-group">
                    <label for="make">Make</label>
                    <input type="text" id="make" name=make class="form-control" formControlName="make"
                        [ngClass]="{ 'error' : isInvalidCar('make')}">
                </div>
                <div class="form-group">
                    <label for="model">Model</label>
                    <input type="text" id="model" name=model class="form-control" formControlName="model"
                        [ngClass]="{ 'error' : isInvalidCar('model')}">
                </div>
                <div class="form-group">
                    <label for="year">Year</label>
                    <select id="year" name=year class="form-control" formControlName="year">
                        <option value="2020">2020</option>
                        <option value="2019">2019</option>
                        <option value="2018">2018</option>
                        <option value="2017">2017</option>
                        <option value="2016">2016</option>
                        <option value="2015">2015</option>
                        <option value="2014">2014</option>
                        <option value="2013">2013</option>
                        <option value="2012">2012</option>
                        <option value="2011">2011</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="type">Car Type</label>
                    <select id="type" name=type class="form-control" formControlName="type">
                        <option value="Hatchback">Hatchback</option>
                        <option value="Saloon">Saloon</option>
                        <option value="4x4">4x4</option>
                        <option value="Sport">sport</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="fuel">Fuel Type</label>
                    <select id="fuel" name=fuel class="form-control" formControlName="fuel">
                        <option value="Petrol">Petrol</option>
                        <option value="Diesel">Diesel</option>
                        <option value="Electric">Electric</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="doors">Doors</label>
                    <select id="doors" name=doors class="form-control" formControlName="doors">
                        <option value="3">3</option>
                        <option value="5">5</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="engine">Engine</label>
                    <input type="text" id="engine" name=engine class="form-control" formControlName="engine"
                        [ngClass]="{ 'error' : isInvalidCar('engine')}">
                </div>
                <div class="form-group">
                    <label for="mpg">MPG</label>
                    <input type="text" id="mpg" name=mpg class="form-control" formControlName="mpg"
                        [ngClass]="{ 'error' : isInvalidCar('mpg')}">
                </div>
                <div class="form-group">
                    <label for="image_file">Image Link</label>
                    <input type="text" id="image_file" name=image_file class="form-control" formControlName="image_file"
                        [ngClass]="{ 'error' : isInvalidCar('image_file')}">
                </div>
                <span *ngIf="isIncompleteCar()">You must complete all fields!</span>
                <button *ngIf="!isIncompleteCar()" type="submit" class="btn btn-primary">Submit</button>
            </form>
        </div>
    </div><br>
</div>